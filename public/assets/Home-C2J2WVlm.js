import{j as e,L as A,r as a,O as y,I as C,a as L}from"./index-CO1LhOMl.js";import{L as b}from"./Layout-B1EvdRiN.js";import{N as v,S as E}from"./SmallCard-CiEUXqrQ.js";const I=({genres:i})=>e.jsxs("div",{className:"carousel gap-2",children:[e.jsx("div",{className:"genre bg-second",children:e.jsx("p",{className:"break-normal text-third",children:"All"})}),i.map((r,t)=>e.jsx(A,{to:`/anime/genre/${r.slug}`,className:"genre min-w-36 text-center max-w-max snap-end snap-always",children:r.judul},t))]}),q=({ongoingAnimes:i,genres:r})=>{const[t,c]=a.useState([]),[u,x]=a.useState("type=complete"),[f,d]=a.useState(!0),[j,p]=a.useState(1);a.useEffect(()=>{m()},[]);const m=async(s=!1,n=u)=>{s&&(p(1),c([]));const l=await(await fetch(`https://web-anime-psi.vercel.app/anime?page=${s?1:j}&${n}`)).json();l.length>0?(d(!0),c(o=>{const N=s?l:l.filter(S=>!o.some(w=>w.slug===S.slug));return[...o,...N]}),p(o=>s?2:o+1)):d(!1)},h=a.useMemo(()=>t.filter((s,n,g)=>g.findIndex(l=>l.slug===s.slug)===n),[t]);return e.jsxs(b,{children:[e.jsx(v,{ongoingAnimes:t,setRequest:x,getAnimes:m}),e.jsx(y,{ongoingAnimes:i}),e.jsx(I,{genres:r}),e.jsxs("section",{className:"flex flex-col items-start gap-5",children:[e.jsx("h1",{className:"h1",children:"Completed"}),e.jsx(C,{dataLength:h.length,hasMore:f,next:m,loader:e.jsx(L,{}),className:"grid grid-cols-2 justify-start items-start gap-5 gap-y-5 md:grid-cols-4",children:t.map((s,n)=>e.jsx(E,{anime:s},n))})]})]})};export{q as default};

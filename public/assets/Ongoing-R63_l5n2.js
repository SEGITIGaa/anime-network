import{r as e,j as s,I as j,a as S}from"./index-CO1LhOMl.js";import{L as y}from"./Layout-B1EvdRiN.js";import{N as w,S as L}from"./SmallCard-CiEUXqrQ.js";import{B as N}from"./BackBtn-w3Jl13pc.js";const A=({})=>{const[n,g]=e.useState([]),[m,p]=e.useState("type=ongoing"),[u,l]=e.useState(!0),[f,c]=e.useState(1);e.useEffect(()=>{o()},[]);const o=async(t=!1,r=m)=>{t&&(c(1),g([]));const i=await(await fetch(`https://web-anime-psi.vercel.app/anime?page=${t?1:f}&${r}`)).json();i.length>0?(l(!0),g(a=>{const d=t?i:i.filter(x=>!a.some(h=>h.slug===x.slug));return[...a,...d]}),c(a=>t?2:a+1)):l(!1)};return s.jsxs(y,{children:[s.jsx(w,{ongoingAnimes:n,setRequest:p,getAnimes:o}),s.jsx(N,{}),s.jsx("h1",{className:"h1 mt-5",children:"Ongoing"}),s.jsx(j,{dataLength:n.length,hasMore:u,next:o,loader:s.jsx(S,{}),className:"grid grid-cols-2 justify-start items-start gap-5 gap-y-5 md:grid-cols-4",children:n.map((t,r)=>s.jsx(L,{anime:t},r))})]})};export{A as default};
